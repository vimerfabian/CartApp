<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Offers</ion-title>
    <ion-buttons slot="end">
      <app-cart-status></app-cart-status>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <h1 *ngIf="list?.length < 1" style="text-align: center">
      no offers for today
    </h1>
    <ion-card *ngFor="let offer of list;let i = index">
      <ion-item>
        <ion-img
          class="text-center"
          style="max-width: 100%; max-height: 500px"
          [src]="offer?.image ? 'data:image/jpeg;base64,' + offer.image : 'assets/food.png'"
        >
        </ion-img>
      </ion-item>
      <ion-card-title>
        <ion-item>
          <h3 style="font-weight: bold">{{offer?.name || ''}}</h3>
          <ion-label style="text-align: right; font-weight: bold"
            >${{offer.price || 0 | number}}</ion-label
          >
        </ion-item>
      </ion-card-title>
      <ion-card-content>
        <ion-label> <strong>Days</strong>: {{getDays(offer)}} </ion-label>
        <br />
        <label>
          <strong>From: </strong>
          <ion-text>{{offer?.startDate || '' | date}}</ion-text> |
          <strong>To:</strong>
          <ion-text>{{offer?.startDate || '' | date}}</ion-text>
        </label>
        <br />
        <br />
        <ion-chip *ngFor="let product of offer?.products"
          >{{product.name}}({{product.quantity || 0}})</ion-chip
        >
        <ion-button (click)="selectOffer(offer)" expand="full"
          >Select Offer</ion-button
        >
      </ion-card-content>
    </ion-card>
  </ion-list>
</ion-content>

<ion-footer>
  <ion-button expand="block" [routerLink]="['/pages/menu']">
    <ion-icon name="cart"></ion-icon>
    <ion-label style="text-align: center"> Make an Order </ion-label>
  </ion-button>
</ion-footer>
